if("undefined"==typeof jQuery)throw new Error("jQuery is required :)");+function(){"use strict";for(var e,o=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=i.length,t=window.console=window.console||{};n--;)e=i[n],t[e]||(t[e]=o)}(),function(){"use strict";if(navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.querySelector("head").appendChild(e)}var o=navigator.userAgent;o.indexOf("Mozilla/5.0")>-1&&o.indexOf("Android ")>-1&&o.indexOf("AppleWebKit")>-1&&-1===o.indexOf("Chrome")&&$("select.form-control").removeClass("form-control").css("width","100%"),$(document).on("contextmenu",function(e){return e.preventDefault(),!1})}(),function(e){"use strict";window.is_defined=function(e){return void 0!==e&&"null"!=typeof e&&null!=e},window.is_callback=function(e){return!(!e||"function"!=typeof e)},window.is_mobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|Mobile|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},window.in_array=function(e,o){var i;if(is_defined(e)&&is_defined(o)&&"object"!=typeof e&&"object"==typeof o){try{i=o.indexOf(e)}catch(n){i=o.hasOwnProperty(e)?1:-1}return i>=0}return!1},window.array_keys=function(e){if(is_defined(e)){var o=[];for(var i in e)o.push(i);return o}},window.array_values=function(e){if(is_defined(e)){var o=[];for(var i in e)o.push(e[i]);return o}},window.array_search=function(e,o){for(var i=[],n=0;n<o.length;n++)o[n]==e&&i.push(n);return i.length>0&&(1==i.length?i[0]:i)},window.count=function(e){return"object"==typeof e?"undefined"!=e.length?Object.keys(e).length:e.length:0},window.strlen=function(e){return is_defined(e)?count(e.toString().split("")):0},window.ucfirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},window.ucwords=function(e){return e.toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},window.money_format=function(e,o){return is_defined(e)?(o=is_defined(o)?o:2,e=parseFloat(e),e>0?cut_decimal(e,o):e):0},window.cut_decimal=function(e,o){if(is_defined(e)){o=is_defined(o)?o:2;var i=e.toString().split(".");is_defined(i[1])&&(i[1]=i[1].substr(0,o));var n=i.join(".");return parseFloat(n).toFixed(o)}return 0},window.balance_format=function(e){var o=e.toString().split(".");return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),o.join(".")},window.mt_rand=function(e,o){var i=arguments.length;if(0===i)e=0,o=2147483647;else{if(1===i)throw new Error("Warning: mt_rand() expects exactly 2 parameters, 1 given");e=parseInt(e,10),o=parseInt(o,10)}return Math.floor(Math.random()*(o-e+1))+e},window.extract_args=function(o,i){var n={};return is_defined(o)&&is_defined(i)&&e.each(i,function(e,i){in_array(e,o)&&(n[i]=o[e])}),!!count(n)&&n},window.is_json=function(o){try{e.parseJSON(o)}catch(e){return!1}return!0},window.is_error=function(e){if("object"==typeof e)return!(!e.hasOwnProperty("status")||"Error"!==e.status.trim()&&"error"!==e.status.trim())},window.valid_email=function(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},window.empty=function(e){return void 0===e||"null"==typeof e||null==e||""==e},window.ajax_call=function(o,i,n,t){t=is_defined(t)?t:"POST",e.ajax({url:o,data:"object"==typeof i?i:{},method:t,success:function(e){if("function"==typeof n&&n(e),"object"==typeof e&&is_error(e))throw Error(e.message)}})},window.error_call=function(o){var i={display:e("#error_notif"),message:e("#error_message")};is_defined(o)&&(i.message.html(o),i.display.fadeIn(500)),!1===o&&i.display.hide()},window.success_call=function(o){var i={display:e("#success_notif"),message:e("#success_message")};is_defined(o)&&(i.message.html(o),i.display.fadeIn(500)),!1===o&&i.display.hide()},window.strip_leading_zero=function(e){return is_defined&&"string"==typeof e&&0==e[0]?e.substring(1):e},window.is_mobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|Mobile|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}(jQuery),function(e){"use strict";e.ajaxSetup({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}}),e.xhrPool=[],e.xhrPool.abortAll=function(){e(this).each(function(o,i){i.abort(),e.xhrPool.splice(o,1),e.ajax(i)})},e(document).ajaxComplete(function(o,i,n){var t=i.getResponseHeader("_TOKEN_");e('meta[name="csrf-token"]').attr("content",t)})}(jQuery),function(e){"use strict";e.fn.has_data=function(o){var i=o.replace("data-",""),n="data-"+i;return e(this)[0].hasAttribute(n)},e.fn.add_data=function(){var o=count(arguments),i={};return 1===o?e.each(arguments[0],function(e,o){i["data-"+e]=o}):2===o&&(i["data-"+arguments[0]]=arguments[1]),this.each(function(o,n){e.each(i,function(o,i){e(n).attr(o,i)})})},e.fn.switcher=function(o){return this.each(function(i,n){var t=e(n),a=t.siblings("span.check-value");if(0===a.length){var s=t.siblings("span.toggle");s.after('<span class="check-value">None</span>'),a=s.siblings("span.check-value")}t.change(function(){this.checked?(t.val(1),a.html("Yes")):(t.val(0),a.html("None")),void 0!==o&&"function"==typeof o&&o(this.checked)})})},e.fn.booking_steps=function(o,i,n){return i=void 0!==i&&i,n=void 0===n?{}:n,this.each(function(t,a){var s=e(a),l=e("#booking_form"),r=s.data("stepurl");r.length>0&&(!1!==s.hasClass("booking-disabled")&&!0!==i||(l.html('<div class="preloader"></div>'),e.post(r,n,function(i){l.html(i).promise().done(function(){e.material.init(),"function"==typeof o&&o()})})))})},e.fn.step_disabled=function(o){return o=void 0===o||o,this.each(function(i,n){var t=e(n);return t.length>0&&(!0===o?t.hasClass("booking-disabled")||t.addClass("booking-disabled"):t.hasClass("booking-disabled")&&t.removeClass("booking-disabled")),t})},e.fn.stars=function(){return this.each(function(o,i){for(var n=e(i),t=parseFloat(e(n).data("rating")),a=Math.ceil(t),s=5-a,l=[],o=0;o<5;o++)t>0&&(t<1&&t>0?l.push('<i class="material-icons">star_half</i>'):l.push('<i class="material-icons">star</i>')),t--;for(var r=0;r<s;r++)l.push('<i class="material-icons">star_border</i>');return n.html(l.join("\n"))})}}(jQuery),"undefined"==typeof jQuery&&error_call("jQuery is required."),function(e,o){var i={booking_details:o("#booking_details"),booking_schedule:o("#booking_schedule"),booking_confirmation:o("#booking_confirmation")};e.prototype.globals={name:null,mail:null,needed_hours:null,needed_supplies:null,instruction:null,book_id:null,slot_dom:null,book_dom:null,page:null},e.prototype.run=function(){this.details(!0),this.review(),is_mobile()&&(window.addEventListener("orientationchange",this.device_orientation_check),this.device_orientation_check())},e.prototype.device_orientation_check=function(){window.matchMedia("(orientation: portrait)").matches||window.innerHeight>window.innerWidth?o("#orientation").show():o("#orientation").hide(),o("#orientation").on("click",function(){o(this).hide()})},e.prototype.review=function(){var e=o("#submit_review");e.length>0&&e.on("click",function(i){o(this).attr("disabled","disabled");var n=parseInt(o(".rating-stars").data("rating")),t=o("#txtReview").val(),a=parseInt(e.data("bid")),s=parseInt(e.data("eid")),l=parseInt(e.data("cid"));ajax_call(__BASE_URL+"/save_review",{str:n,rvw:t,bid:a,eid:s,cid:l},function(e){is_error(e)?o("#booking_form").html(['<h3 class="booking-error">',e.message,"</h3>"].join("\n")):(o("#review_form").remove(),o("#review_submit_message").html(e.message),o("#review_success").removeClass("hide"))})})},e.prototype.details=function(e){var n=this;if(i.booking_details.length>0)return e=void 0!==e&&e,error_call(!1),success_call(!1),i.booking_details.booking_steps(function(){var e={name:o("#inputName"),mail:o("#inputEmail"),needed_hours:o("#inputHours"),needed_supplies:o("#inputSupplies"),btn_instruction:o("#inputInstruction"),instruction:o("#txtInstruction")};e.needed_supplies.switcher(),o("#inputInstruction").switcher(function(e){var i=o("#instruction_toggle");e?i.removeClass("hidden").hide().fadeIn(500):(i.siblings("#txtInstruction").val(""),i.addClass("hidden"))}),empty(n.globals.name)||(e.name.val(n.globals.name),e.name.parent(".label-floating").removeClass("is-empty")),empty(n.globals.mail)||(e.mail.val(n.globals.mail),e.mail.parent(".label-floating").removeClass("is-empty")),empty(n.globals.needed_hours)||e.needed_hours.val(n.globals.needed_hours),empty(n.globals.needed_supplies)||(e.needed_supplies.val(n.globals.needed_supplies),1===n.globals.needed_supplies&&e.needed_supplies.click()),empty(n.globals.instruction)||e.btn_instruction.click().promise().done(function(){e.instruction.val(n.globals.instruction)}),o("#details_next, #booking_schedule").off("click").click(function(o){if(i.booking_schedule.attr("class").indexOf("booking-disabled")>=0){var t=e.name.val(),a=e.mail.val(),s=parseFloat(e.needed_hours.val()),l=parseInt(e.needed_supplies.val()),r=e.instruction.val();empty(a)?error_call('Please fill-up the <a href="javascript:void(0)" class="alert-link">Email Address</a>.'):ajax_call(__BASE_URL+"/verify_email",{mail:a},function(e){is_error(e)?error_call('<a href="javascript:void(0)" class="alert-link">Email</a> is not available.'):(n.globals.name=e.hasOwnProperty("name")&&!empty(e.name)?ucwords(e.name):ucwords(t),n.globals.mail=e.hasOwnProperty("mail")&&!empty(e.mail)?e.mail:a,n.globals.needed_hours=s,n.globals.needed_supplies=l,n.globals.instruction=r,i.booking_details.step_disabled(),i.booking_schedule.step_disabled(!1),i.booking_confirmation.step_disabled(),n.schedule(!0))})}})},e)},e.prototype.schedule=function(e,n){var t=this;if(i.booking_schedule)return e=void 0!==e&&e,n=void 0===n?{hours:parseFloat(o("#inputHours").val()),mail:t.globals.mail}:n,error_call(!1),success_call(!1),i.booking_schedule.booking_steps(function(){function e(){empty(t.globals.book_id)||empty(t.globals.slot_dom)?error_call("Please select a booking schedule."):(i.booking_details.step_disabled(),i.booking_schedule.step_disabled(),i.booking_confirmation.step_disabled(!1),t.confirmation(!0))}function n(e){var i=e.replace("schedule_",""),n=o("#booking_option_"+i);n.length<=0?error_call("Cannot find display box "+e):n.fadeToggle()}o(".person-rating").stars(),o(".booking-details").on("click",function(i){var a=o(this),s=a.attr("id"),l=a.attr("data-toggle"),r=parseInt(l);if(void 0===l||0===r){a.attr("data-toggle",1),a.html('Details <i class="material-icons">arrow_upward</i>'),a.addClass("btn-info"),a.removeClass("btn-danger");var d=s.split("_"),c=d[1],u=o("#booking_preloader_"+c);a.length>0&&u.removeClass("hide"),ajax_call(__BASE_URL+"/list_schedule",{id:s,hours:t.globals.needed_hours,mail:t.globals.mail},function(e){a.length>0&&u.addClass("hide"),t.details_extract(s,e),e.length?n(s):o("#schedule_"+c).prop("disabled",!0).text("Fully Booked")})}else 1===r?(a.attr("data-toggle",0),a.html('Details <i class="material-icons">arrow_downward</i>'),a.addClass("btn-info"),a.removeClass("btn-danger"),n(s)):e()}),is_defined(t.globals.book_dom)&&t.globals.book_dom.length>0&&o("#"+t.globals.book_dom.attr("id")).click(),o("#schedule_prev, #booking_details").off("click").click(function(){i.booking_details.attr("class").indexOf("booking-disabled")>=0&&(i.booking_details.step_disabled(!1),i.booking_schedule.step_disabled(),i.booking_confirmation.step_disabled(),t.details(!0))}),o("#schedule_next, #booking_confirmation").off("click").click(function(){i.booking_confirmation.attr("class").indexOf("booking-disabled")>=0&&e()})},e,n)},e.prototype.confirmation=function(e){var n=this;if(i.booking_confirmation)return e=void 0!==e&&e,error_call(!1),success_call(!1),i.booking_confirmation.booking_steps(function(){empty(n.globals.name)||empty(n.globals.mail)||empty(n.globals.book_id)||ajax_call(__BASE_URL+"/booking_data",{book_id:n.globals.book_id,mail:n.globals.mail},function(e){if(is_error(e))o("#confirmation_page").html(['<h3 class="booking-error">',e.message,"</h3>"].join("\n"));else{var i=e.firstname+" "+e.lastname;o("#cleaner_name").html(i),o("#cleaner_img").attr("alt",i),o("#cleaner_img").attr("src",e.avatar),o("#cleaner_rating").attr("data-rating",parseFloat(e.rate)).stars(),o("#cleaner_review").html(e.reviews),o("#cleaner_schedule").html(e.date_available),o("#cleaner_slot").html(strip_leading_zero(e.schedule_start)+" to "+strip_leading_zero(e.schedule_end)),o("#cleaner_price").html(e.hours_text),o("#booking_total").html("$"+e.price),o("#booking_total").html("$"+e.price)}}),o("#confirmation_prev, #booking_schedule").off("click").click(function(){i.booking_schedule.attr("class").indexOf("booking-disabled")>=0&&(i.booking_details.step_disabled(),i.booking_schedule.step_disabled(!1),i.booking_confirmation.step_disabled(),n.schedule(!0,{hours:n.globals.needed_hours,mail:n.globals.mail}))}),o("#back_to_main").on("click",function(){n.globals.needed_hours=null,n.globals.needed_supplies=null,n.globals.instruction=null,n.globals.book_id=null,n.globals.book_dom=null,n.globals.slot_dom=null,i.booking_details.step_disabled(!1),i.booking_schedule.step_disabled(),i.booking_confirmation.step_disabled(),n.details(!0)}),o("#confirmation_next").on("click",function(){ajax_call(__BASE_URL+"/booking_save",{book_id:n.globals.book_id,name:n.globals.name,mail:n.globals.mail,hours:n.globals.needed_hours,supplies:n.globals.needed_supplies,instruction:n.globals.instruction},function(e){is_error(e)?error_call(e.message):(success_call(e.message),o("#confirmation_prev").hide(),o("#confirmation_next").hide(),o("#back_to_main").removeClass("hide"))})})},e,{hours:n.globals.needed_hours})},e.prototype.details_extract=function(e,i){var n=this;if("object"==typeof i){if(i.length>0){var t=[];for(var a in i){var s=i[a];t.push(n.details_html(e,s))}var l=e.replace("schedule_","");o("#schedule_frame_"+l).html(t.join("\n"));var r=o("#booking_option_"+l),d=r.children(".schedule-frame-container"),c=r.children(".panner");if(d.length>0&&c.length>0&&n.scroll_arrow(d,c),o(".schedule-detail").on("click",function(e){function i(e,o){e.addClass("schedule-selected"),n.globals.slot_dom=e,n.globals.book_dom=o}var t=o(this),a=t.attr("id").split("_"),s=a[1],l=a[2]+"_"+a[3]+"_"+a[4],r=o("#schedule_"+s);is_defined(n.globals.book_dom)&&n.globals.book_dom.length>0&&n.globals.book_dom.attr("id")!=="schedule_"+s&&(n.globals.book_dom.attr("data-toggle",0),n.globals.book_dom.click()),t.hasClass("schedule-disabled")||(empty(n.globals.slot_dom)?i(t,r):n.globals.slot_dom.length>0&&(n.globals.slot_dom.removeClass("schedule-selected"),i(t,r)),n.globals.book_id=l,r.length>0&&(r.addClass("btn-danger"),r.removeClass("btn-info"),r.html('Book <i class="material-icons">favorite</i>'),r.attr("data-toggle",2)))}),is_defined(n.globals.slot_dom)&&n.globals.slot_dom.length>0)var u=setTimeout(function(){clearTimeout(u)},100)}}else error_call("Invalid response.")},e.prototype.details_html=function(e,o){var i=[],n=[];if(n.push("schedule-detail"),o.is_cheapest&&n.push("schedule-cheapest"),o.is_booked&&n.push("schedule-disabled"),i.push('<div class="'+n.join(" ")+'" id="'+e+"_"+o.detail_id+'">'),i.push('<p class="range">'+strip_leading_zero(o.start)+"</p>"),i.push("<span>to</span>"),i.push('<p class="range">'+strip_leading_zero(o.end)+"</p><br />"),o.is_booked)i.push('<p class="price"> Not Available </p>');else{var t=(o.price/o.hours).toFixed(2);i.push('<p class="price"> $'+t+"/hour </p>")}return i.push("</div>"),i.join("\n")},e.prototype.scroll_arrow=function(e,i){function n(e,o){0===a&&(a=setInterval(function(){var o=l.scrollLeft()+s*e;l.scrollLeft(o)},10))}function t(){clearInterval(a),a=0}var a=0,s=5,l=e;i.on("mousedown touchstart",function(){var e=o(this).data("scrollModifier");n(2*parseInt(e,10),s)}),i.on("mouseup touchend",function(){t()})}}(window.Rosie=window.Rosie||function(){},jQuery),function(e,o){(new e).run(),o(".rating-stars").stars()}(window.Rosie=window.Rosie||function(){},jQuery);